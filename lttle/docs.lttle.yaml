---
machine:
  namespace: docs
  name: nginx-docs
  image: aifrim/lttle-docs:latest
  # IMPORTANT: nginx-docs memory & cpu configuration
  # For the time being, 1 vCPU and 512 MiB should suffice
  # To be re-visited later - post-MVP
  resources:
    cpu: 1
    memory: 512
  mode:
    flash:
      # NOTE: We only need a timeout when NGINX is initially being setup
      # We do not need any more timeouts after that
      timeout: 5
      strategy:
        listen-on-port: 80
---
service:
  namespace: docs
  name: docs-ingress
  target:
    name: nginx-docs
    port: 80
    protocol: http
  bind:
    external:
      host: docs.lttle.aifrim.com
      protocol: https
  certificate: cert-docs
